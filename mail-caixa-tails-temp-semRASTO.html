<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="utf-8">
    <title>NÚCLEO X+Y | OPERAÇÃO INVISÍVEL</title>
    <style>
        body { background: #000; color: #0f0; font-family: 'Courier New', monospace; margin: 0; overflow: hidden; display: flex; flex-direction: column; height: 100vh; }
        #top-bar { background: #010; border-bottom: 2px solid #0f0; padding: 10px; display: flex; gap: 20px; align-items: center; z-index: 999; }
        .btn { background: #000; border: 1px solid #0f0; color: #0f0; padding: 8px 15px; cursor: pointer; font-weight: bold; text-transform: uppercase; }
        .btn:hover { background: #0f0; color: #000; box-shadow: 0 0 15px #0f0; }
        .danger { border-color: #f00; color: #f00; }
        .danger:hover { background: #f00; color: #000; }
        
        /* Container do Portal Real */
        #viewport { flex-grow: 1; position: relative; background: #000; }
        iframe { width: 100%; height: 100%; border: none; filter: brightness(0.8) contrast(1.2); }
        
        #overlay-status { position: absolute; bottom: 10px; right: 10px; font-size: 10px; color: #050; pointer-events: none; }
    </style>
</head>
<body>

    <div id="top-bar">
        <div style="font-weight: bold;">[ CANAL TEMP-MAIL ]</div>
        <button class="btn" onclick="recarregar()">RESET CANAL</button>
        <button class="btn" onclick="abrirExterno()">ABRIR EM TÚNEL (POPUP)</button>
        <button class="btn danger" onclick="autoDestruicao()">APAGAR RASTO ⚡</button>
    </div>

    <div id="viewport">
        <!-- Usamos o link direto mas forçamos a abertura limpa -->
        <iframe id="portal" src="https://temp-mail.org"></iframe>
        <div id="overlay-status">SESSÃO ENCRIPTADA | NÓMADA X+Y</div>
    </div>

    <script>
        // Se o iframe for bloqueado pelo Temp-Mail (CSP), esta função abre uma 
        // janela limpa sem barras de ferramentas que se auto-destrói ao fechar.
        function abrirExterno() {
            const config = "width=1000,height=800,menubar=no,toolbar=no,location=no,status=no";
            const win = window.open("https://temp-mail.org", "CanalPrivado", config);
            
            // Monitoriza se a janela foi fechada para limpar rasto
            const timer = setInterval(() => {
                if (win.closed) {
                    clearInterval(timer);
                    autoDestruicao(true);
                }
            }, 1000);
        }

        function recarregar() {
            document.getElementById('portal').src = "https://temp-mail.org";
        }

        function autoDestruicao(silencioso = false) {
            if (silencioso || confirm("ATENÇÃO: Purga total de dados locais. Confirmar?")) {
                // Limpa TUDO o que o browser guardou deste portal
                localStorage.clear();
                sessionStorage.clear();
                
                // Sobrecarrega o histórico para esconder de onde vieste
                window.history.replaceState(null, "", "/");
                
                // Redireciona para um site neutro sem deixar rasto no botão "Voltar"
                window.location.replace("https://www.google.com");
            }
        }

        // Impede que o botão direito mostre opções do browser
        document.oncontextmenu = () => false;
    </script>
</body>
</html>